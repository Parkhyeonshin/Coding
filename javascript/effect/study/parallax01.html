<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>자바스크립트 : 패럴랙스01</title>

        <link rel="stylesheet" href="../../../javascript/assets/css/style.css" />
        <link rel="stylesheet" href="../../../javascript/assets/css/dracula.css" />

        <style>
            #main .document .btnflex {
                display: flex;
            }
        </style>
    </head>

    <body>
        <header id="header">
            <!-- 시멘트태그(heaer, main, footer 등)-->
            <h1><a href="../../../javascript/index.html">Javascript_Parallax01</a></h1>
            <nav class="header_nav">
                <ul class="study">
                    <li><a href="quiz01.html">퀴즈 만들기1</a></li>
                    <li><a href="quiz02.html">퀴즈 만들기2</a></li>
                    <li><a href="quiz03.html">퀴즈 만들기3</a></li>
                    <li><a href="quiz04.html">퀴즈 만들기4</a></li>
                    <li><a href="quiz05.html">퀴즈 만들기5</a></li>
                    <li><a href="quiz06.html">퀴즈 만들기6</a></li>
                    <li><a href="search01.html">검색 이펙트1</a></li>
                    <li><a href="search02.html">검색 이펙트2</a></li>
                    <li><a href="animation.html">애니메이션 만들기</a></li>
                    <li><a href="slider01.html">슬라이드 이펙트1</a></li>
                    <li><a href="slider02.html">슬라이드 이펙트2</a></li>
                    <li><a href="slider03.html">슬라이드 이펙트3</a></li>
                    <li><a href="parallax01.html">패럴랙스 이펙트1</a></li>
                    <li><a href="parallax02.html">패럴랙스 이펙트2</a></li>
                    <li><a href="parallax03.html">패럴랙스 이펙트3</a></li>
                </ul>
            </nav>
        </header>
        <!-- //header -->
        <main id="main">
            <!--main start-->
            <div class="document">
                <h2 class="t_tit">패럴랙스 효과 01</h2>
                <div class="t_desc2">
                    페럴랙스 효과에 대해서 알아보겠습니다. 패럴랙스 스크롤링은 사용자가 마우스를 스크롤할 때, 원거리에 있는 배경 이미지는 느리게
                    움직이게 하고, 근거리에 있는 사물 이미지는 빠르게 움직이도록 함으로써 입체감을 느낄 수 있게 만든 디자인 기법입니다. 그렇기때문에
                    자바스크립트의 스크롤 관련 메서드에 대해서 잘 알아야 사용할 수 있는 효과입니다.
                    <br>요약하자면 <i>스크롤변경에 따른 행동(?)을 조정하는 효과입니다.</i>
                </div>
                <hr />

                <div class="t_iframe" style="min-height: 1000px; padding-top: 0">
                    <iframe src="https://parkhyeonshin.github.io/Coding/javascript/effect/parallaxEffect01.html" frameborder="0"></iframe>
                </div>

                <div class="t_link btnflex">
                    <a href="https://github.com/Parkhyeonshin/Coding/blob/main/javascript/effect/parallaxEffect01.html" target="_blank"
                        >원본 소스 보기</a
                    >
                    <a href="https://parkhyeonshin.github.io/Coding/javascript/effect/parallaxEffect01.html" target="_blank">원본 사이트</a>
                </div>
                <hr />
                <div class="t_desc">▶</div>
                <h3 class="t_tit2">JS 소스</h3>
                <div class="t_code">
                    <pre><code class="language-js">const scroll = document.querySelector("#parallax__info .scroll span");
window.addEventListener("scroll", () => {
    let scrollTop = window.pageYOffset || window.scrollY || document.documentElement.scrollTop;

    // forEach문 02
    document.querySelectorAll(".content__item").forEach((element, index) => {
        if (scrollTop >= element.offsetTop - window.innerHeight / 2) {
            document.querySelectorAll("#parallax__nav li").forEach((li) => {
                li.classList.remove("active");
            });
            document.querySelector(`#parallax__nav li:nth-child(${index + 1})`).classList.add("active");
        }
    });

    document.querySelector(".scroll span").innerText = Math.round(scrollTop);
    // info
    for (let i = 1; i &lt;= 9; i++) {
        document.querySelector(".offset" + i).innerText = document.getElementById("section" + i).offsetTop;
    }
});

// 스크롤 이동
document.querySelectorAll("#parallax__nav li a").forEach((li) => {
    li.addEventListener("click", (e) => {
        e.preventDefault();
        document.querySelector(li.getAttribute("href")).scrollIntoView({
            behavior: "smooth",
        });
    });
});
</code></pre>
                </div>
                <h3 class="t_tit2">HTML 소스</h3>
                <div class="t_code">
                    <pre><code class="language-html">&lt;main id="parallax__cont"&gt;
&lt;div id="contents"&gt;
    &lt;section id="section1" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;01&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section1&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;한번의 실패와 영원한 실패를 혼동하지 마라&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section1 --&gt;

    &lt;section id="section2" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;02&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section2&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;내일은 내일의 태양이 뜬다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section2 --&gt;

    &lt;section id="section3" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;03&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section3&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;하루에 3시간을 걸으면 7년 후에 지구를 한바퀴 돌 수 있다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section3 --&gt;

    &lt;section id="section4" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;04&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section4&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;행복은 습관이다,그것을 몸에 지니라&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section4 --&gt;

    &lt;section id="section5" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;05&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section5&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;만약 우리가 할 수 있는 일을 모두 한다면 우리들은 우리자신에 깜짝 놀랄 것이다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section5 --&gt;

    &lt;section id="section6" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;06&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section6&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;자신을 내보여라. 그러면 재능이 드러날 것이다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section6 --&gt;

    &lt;section id="section7" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;07&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section7&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;겨울이 오면 봄이 멀지 않으리&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section7 --&gt;

    &lt;section id="section8" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;08&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section8&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;자신감 있는 표정을 지으면 자신감이 생긴다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section8 --&gt;

    &lt;section id="section9" class="content__item"&gt;
        &lt;span class="content__item__num"&gt;09&lt;/span&gt;
        &lt;h2 class="content__item__title"&gt;section9&lt;/h2&gt;
        &lt;figure class="content__item__imgWrap"&gt;
            &lt;div class="content__item__img"&gt;&lt;/div&gt;
        &lt;/figure&gt;

        &lt;p class="content__item__desc"&gt;길을 잃는 다는 것은 곧 길을 알게 된다는 것이다.&lt;/p&gt;
    &lt;/section&gt;
    &lt;!-- // section9 --&gt;
&lt;/div&gt;
&lt;/main&gt;
&lt;!-- // main --&gt;

&lt;aside id="parallax__info"&gt;
&lt;div class="scroll"&gt;scrollTop : &lt;span&gt;0&lt;/span&gt;px&lt;/div&gt;
&lt;div class="info"&gt;
    &lt;ul&gt;
        &lt;li&gt;#section1 offset() : &lt;span class="offset1"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section2 offset() : &lt;span class="offset2"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section3 offset() : &lt;span class="offset3"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section4 offset() : &lt;span class="offset4"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section5 offset() : &lt;span class="offset5"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section6 offset() : &lt;span class="offset6"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section7 offset() : &lt;span class="offset7"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section8 offset() : &lt;span class="offset8"&gt;0&lt;/span&gt;px&lt;/li&gt;
        &lt;li&gt;#section9 offset() : &lt;span class="offset9"&gt;0&lt;/span&gt;px&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;/aside&gt;
</code></pre>
                </div>
                <p class="t_tit2">■ 핵심 파헤치기🪓</p>

                <h2 class="t_tit3">✔ scrollTop 속성</h2>
                <p class="t_desc">scrollTop은 메서드가 아닌 <i>속성</i>입니다. 이 속성은 요소의 수직 스크롤 바 위치를 나타냅니다.</p>
                <h2 class="t_tit3">✔ sliderInner.firstElementChild.cloneNode(true);</h2>
                <p class="t_desc">
                    .firstElementChild : <i>첫번째 자식요소를 선택</i>합니다. 여기서는 '.slider__inner'의 첫번째 요소, 즉 첫번째 이미지에 해당되겠네요
                    <br />.cloneNode(true) : <i>복제하는 함수</i>입니다. 복제를 원하는 노드를 이 함수 앞에 배치시키면 되겠군요. 기본값은 flase인데 이
                    경우 자식노드는 복사하지 않습니다. <i>자식노드</i>역시 복제해야하므로 true를 사용해야합니다. <br /><i>∴ </i>'.slider__inner'안의
                    첫번째 요소(첫번째 이미지)를 복제하겠다~
                </p>
                <h2 class="t_tit3">✔ appendChild</h2>
                <p class="t_desc">
                    한 노드를 특정 부모 자식의 자식 노드 중 마지막 자식으로 붙여버리는 메서드입니다.
                    <br />조금 이해가 어렵다면...복사 + 붙여넣기를 하는데 <i>"붙여넣기의 방식이 넣을 위치의 가장 마지막에 붙여진다"</i>고 생각하세요!
                </p>
                <br />

                <h2 class="t_tit3"><i>✔ setTimeout </i></h2>
                <p class="t_desc">
                    엥?이게뭐죠...새로운 메서드네요? 어렵지 않습니다. 여태까지 저희 setInterval 잘만 썼잖아요!!
                    <br />
                    이 메서드는 지정한 시간(ms단위)이 지난 이후 지정한 함수를 실행하는 메서드입니다. <br />약간 핸드폰의 <i>타이머같은(?)기능</i>을
                    가지고 있네요 :)
                </p>

                <h2 class="t_tit2">■ 코드 내멋대로 풀어헤치기👕</h2>
                <p class="t_desc2">
                    오늘 내용은 새로운 메서드들이 조금 많아서 특별히 풀어헤치기 시간을 가져볼까 합니다. 소스 같이 보시면서 따라와 주시구요. 말로 제가
                    잘 설명할 수 있을진 모르겠는데 조금이나마 이해되시길 바라며 시작해보겠습니다!
                </p>
                <p class="t_desc">
                    1. 스크립트에서 활용할 것들을 <i>선택자</i>를 통해 지정해봅시다. 늘 그랬듯 필요한건 '각 이미지', '이미지가 보이는 영역', '움직이게
                    해주는 영역'이 필요하겠네요. <br /><br />2. 시작이미지(즉, 현재이미지를 0으로 우선 시작)와 전체 이미지갯수를 '.length'를 통해서
                    구해줍니다. <br /><br />3. 2번 유형과 비슷한 논리로 이미지의 넓이만큼 움직이게 해주기 위해 offsetWidth로 편하게 이미지의 넓이를
                    구해서 sliderWidth라는 변수에 넣습니다. <br /><br />4. 'cloneNode(true)'로 첫번째이미지를 복사해서 sliderClone에 집어넣고 이
                    집어넣은걸 sliderInner의 마지막자식요소로 넣어버립니다.
                    <i>(≒ 복붙)</i>
                    <br /><br />5. 맨마지막에 'setInterval' 메서드로 인해 2초마다 함수가 실행될건데요. 첫번째구문부터 'currrentInedex++'이므로
                    currrentInedex가 1로 증가합니다. <br /><br />6. 이후에 움직이는영역을 통제할부분인 'sliderInner'에 'transition'으로 0.6초에 걸쳐
                    부드럽게 진행될 수 있게 해줍니다. <br /><br />7. 2번 유형에서 해봐서 아시겠지만 마찬가지로 'translateX'로 '-800 x
                    currrentInedex'만큼 이동시켜줍니다. 처음 실행이니깐 -800x1 = -800, <i>오른쪽으로 800px</i>만큼 이동하네요. 이미지의 넓이값은
                    800px이므로 두번째 이미지가 노출됩니다. <br /><br />8. ...이런식으로 <i>6번째이미지(복제된 첫번째 이미지)</i>까지 진행을하다가
                    <br /><br />9. if문의 조건이 'currrentInedex == sliderCount'이므로 <i>'6==6'이란 조건이 성립되어 if문이 실행</i>됩니다.
                    <br /><br />10. if문의 실행내용은 'setTimeout메서드'이므로 <i>0.7초 이후</i>에 'setTimeout'안의 실행문이 실행됩니다. (실행문의
                    내용 : 움직이는 영역의 0.6초에 걸친 효과를 0초로 바꾸므로 효과가 없는게 됨, translateX를 0으로바꿔 0px로 초기화함 = 첫번째이미지로
                    되돌아감, 'currrentInedex '를 0으로 변경하므로 첫번째 이미지로 돌아감) <br /><br />11.
                    <i>'currrentInedex'가 0이 되었으므로 다시 무한 반복됩니다. </i>
                </p>

                <h1 class="t_tit3">- 끝.이.에.요 -</h1>
            </div>
        </main>
        <!-- //main end -->
        <footer id="footer">
            <a href="mailto:sshin4882@naver.com">sshin4882@naver.com</a>
        </footer>
        <!-- //footer -->
        <script src="../../../javascript/assets/js/highlight.min.js"></script>
        <script>
            hljs.highlightAll();
        </script>
    </body>
</html>
